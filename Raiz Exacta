#include "p16F628a.inc"    ;incluir librerias relacionadas con el dispositivo
 __CONFIG _FOSC_INTOSCCLK & _WDTE_OFF & _PWRTE_OFF & _MCLRE_OFF & _BOREN_OFF & _LVP_OFF & _CPD_OFF & _CP_OFF    
;configuraci√≥n del dispositivo todo en OFF y la frecuencia de oscilador
;es la del "reloj del oscilador interno" (INTOSCCLK)     
RES_VECT  CODE    0x0000            ; processor reset vector
    GOTO    Inicio                   ; go to beginning of program
; TODO ADD INTERRUPTS HERE IF USED
MAIN_PROG CODE                      ; let linker place main program

resultado equ 0x30
raiz equ 0x31
cont equ 0x32
num equ 0x33
ban equ 0x34

Inicio:
    BCF STATUS, RP1
    BSF STATUS, RP0
    MOVLW b'11111111'
    MOVWF TRISA
    MOVLW b'00000000'
    MOVWF TRISB
    BCF STATUS, RP0
    
    MOVFW PORTA
    MOVWF raiz
    MOVLW d'0'
    MOVWF cont
    MOVFW raiz
    XORLW d'0'
    MOVWF ban
    
    BTFSC ban,0
    GOTO loop
    BTFSC ban,1
    GOTO loop
    BTFSC ban,2
    GOTO loop
    BTFSC ban,3
    GOTO loop
    BTFSC ban,4
    GOTO loop
    BTFSC ban,5
    GOTO loop
    BTFSC ban,6
    GOTO loop
    BTFSC ban,7
    GOTO loop
    MOVFW cont
    MOVWF PORTB
    GOTO Inicio
    
loop: INCF cont,1
	MOVFW cont
	MOVWF num
	MOVLW d'0'
        Multiplicacion:
    	ADDWF cont,0
	DECFSZ num
	GOTO Multiplicacion
	MOVWF resultado
	MOVFW raiz
	XORWF resultado,0
	MOVWF ban
    BTFSC ban,0
    GOTO loop
    BTFSC ban,1
    GOTO loop
    BTFSC ban,2
    GOTO loop
    BTFSC ban,3
    GOTO loop
    BTFSC ban,4
    GOTO loop
    BTFSC ban,5
    GOTO loop
    BTFSC ban,6
    GOTO loop
    BTFSC ban,7
    GOTO loop
    MOVFW cont
    MOVWF PORTB
    
END
